<link rel="import" href="../../../bower_components/polymer/polymer.html">

<polymer-element name="viz-financials" attributes="customers">
  <template>
    <link rel="stylesheet" href="viz-financials.css">
    <h1>Financials</h1>
    <ul>
      <template repeat="{{ c in customers }}">
        <li>
          <h2>{{ c.name }}</h2>
          <p>FTE: {{ c.summary.fte_this_month | toFixed(1) }}<br>
          Value Creation: {{ c.summary.value_creation / 1000 | toFixed(1) }} k&euro;<br>
          Value Creation this month: {{ c.summary.value_creation_this_month / 1000 | toFixed(1) }} k&euro;</p>

          <ul>
            <template repeat="{{ p in c.projects }}">
              <li>{{ p.name }}: {{ p.value_creation / 1000 | toFixed(1) }} k&euro;</li>
            </template>
          </ul>
        </li>
      </template>
    </ul>
  </template>
  <script>
    (function () {
      Polymer({
        /**
         * Filter for bringing numbers to a defined precision.
         */
        toFixed: function(value, precision) {
          return Number(value).toFixed(precision);
        }
      });
    })();
  </script>
</polymer-element>
